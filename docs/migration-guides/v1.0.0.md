# Migrating to v1.0.0

## Overview

Version 1.0.0 introduces a major restructuring of the project to better separate synchronous and asynchronous implementations. This guide will help you migrate your code from v0.5.0 to v1.0.0.

## Major Changes

1. **Package Structure**: The codebase has been reorganized into three main packages:
   - `zephcast.core`: Core utilities and interfaces
   - `zephcast.sync`: Synchronous implementations
   - `zephcast.aio`: Asynchronous implementations

2. **Integration Packages**: Message broker integrations are now organized under their respective sync/async packages:
   - `zephcast.sync.integration.*`
   - `zephcast.aio.integration.*`

## Step-by-Step Migration Guide

### 1. Update Import Statements

#### Synchronous Clients
```python
# Before
from zephcast.kafka import KafkaClient
from zephcast.redis import RedisClient
from zephcast.rabbit import RabbitClient

# After
from zephcast.sync.integration.kafka import KafkaClient
from zephcast.sync.integration.redis import RedisClient
from zephcast.sync.integration.rabbit import RabbitClient
```

#### Asynchronous Clients
```python
# Before
from zephcast.kafka import AsyncKafkaClient
from zephcast.redis import AsyncRedisClient
from zephcast.rabbit import AsyncRabbitClient

# After
from zephcast.aio.integration.kafka import KafkaClient
from zephcast.aio.integration.redis import RedisClient
from zephcast.aio.integration.rabbit import RabbitClient
```

### 2. Update Core Utility Imports

```python
# Before
from zephcast.retry import retry
from zephcast.consumers import consumer, batch_consumer

# After
from zephcast.core.retry import retry
# For sync operations
from zephcast.sync.consumer import consumer, batch_consumer
# For async operations
from zephcast.aio.consumer import consumer, batch_consumer
```

### 3. Configuration Updates

Configuration objects are now located in their respective packages:

```python
# Before
from zephcast.config import KafkaConfig

# After
from zephcast.sync.integration.kafka.config import KafkaConfig  # For sync
from zephcast.aio.integration.kafka.config import KafkaConfig   # For async
```

## Common Issues and Solutions

1. **Import Errors**
   - If you see `ModuleNotFoundError`, check that you're using the new import paths
   - Remember that async and sync implementations are now in separate packages

2. **Type Hints**
   - Update any type hints referring to the old package structure
   - Use the new type aliases from `zephcast.core.types`

## Need Help?

If you encounter any issues during migration:
1. Check our [GitHub Issues](https://github.com/zbytealchemy/zephcast/issues)
2. Join our [GitHub Discussions](https://github.com/zbytealchemy/zephcast/discussions)
3. Review the [API Reference](../api/kafka.md) for detailed documentation
